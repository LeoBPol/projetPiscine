<!DOCTYPE html>
<html>
<head>
    <title> PlanningEtudiant </title>
    <link rel="stylesheet" type="text/css" href="css/mark-your-calendar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="css/button.css">
</head>
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="js/mark-your-calendar.js"></script>
  <script type="text/javascript" src="js/validation.js"></script>
    <div id="picker"></div>
    <div class="form">
        <div class="form_block">
          <h6 class="form_label">Jour sélectionnée : <span id="selected-date"><i>Veuillez choisir un créneau</i></span></h6>
        </div>
        <div class="form_block">
          <h6 class="form_label">Créneau sélectionné : <span id="selected-time"><i>Veuillez choisir un créneau</i></span></h6>
        </div>
        <button id="valideBtn" class="btn btn_disabled" onclick="buttonClicked()" >Valider</button>
        <div class="form_block">
          <h6 id="demo" style="display: none"></h6>
          <h6 id="demo2"></h6>
        </div>
    </div>

    <script type="text/javascript">
        (function($) {
          $('#picker').markyourcalendar({
            availability: [
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  [],            
                  []
                ],
            startDate: new Date("2021-01-12"),
            onClick: function(ev, data) {
              // data is a list of datetimes
              var d = data[0].split(' ')[0];
              var t = data[0].split(' ')[1];

              var res_d_list = d.split("-")
              var an = res_d_list[0]
              var mo = res_d_list[1]
              var jo = res_d_list[2]
              var res_d = jo + ' / ' + mo + ' / ' + an

              var res_t_list = t.split(":")
              var ho = res_t_list[0]
              var mi = res_t_list[1]
              var res_t = ho + " : " + mi

              $('#selected-date').html(res_d);
              $('#selected-time').html(res_t);
            },
            onClickNavigator: function(ev, instance) {
              var arr = [
              [
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  ['8:00', '9:00', '10:00', '11:00', '14:00', '15:00', '16:00', '17:00'],
                  [],            
                  []
                ],
                [
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],  
                  [],            
                  []
                ],
                [
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],  
                  [],            
                  []
                ],
                [
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],  
                  [],            
                  []
                ],
                [
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],  
                  [],            
                  []
                ],
                [
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],  
                  [],            
                  []
                ],
                [
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],
                  ['8:00', '10:00', '13:00', '15:00'],  
                  [],            
                  []
                ],
              ]
              
              instance.setAvailability(arr[0]);
            }
          });
        })(jQuery);
    </script>
</body>
</html>