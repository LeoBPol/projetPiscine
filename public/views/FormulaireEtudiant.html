<!DOCTYPE html>
<html lang="en">
<head>  <base href="http://localhost:8080/public">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Formulaire | Réservation de soutenance</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://use.fontawesome.com/b9bdbd120a.js"></script>
    <link rel="stylesheet" href="css/connexion.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

</head>
<body>
<script type="text/javascript" src="script/newTextBlock.js"></script>

<aside class="aside">
    <button class="btn btn-circle" onclick="location.href='/logout'"><i class="far fa-sign-out"></i></button>
    <button class="btn btn-circle" onclick="location.href='/plnanning'"><i class="fa fa-home"></i></button>
    <h1>Formulaire de création du groupe d'étudiant</h1>
    <img src="img/component.png" alt="" class="logo"/>

</aside>
<main class="main">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb mobileonly">
            <li class="breadcrumb-item"><a href="#">Home</a></li>

        </ol>
    </nav>
    <p class="p1">Vous avez des problèmes? <strong>Aide</strong></p>

    <p class="p3">Créer un groupe</p>
    <p class="p4">Renseignez les informations suivantes</p>
    <form method="post" action="/groupRegistration">




        <div class="col-md-6 check">
            <label for="exampleRadios1">Type de soutenance</label><br>
            <input onclick="check()" class="form-check-input" type="radio" name="type" id="exampleRadios1" value="false" checked>
            <label class="form-check-label" for="exampleRadios1">
                Projet
            </label>
        </div>
        <div class="col-md-6 check">
            <input onclick="check()" class="form-check-input" type="radio" name="type" id="exampleRadios2" value="true">
            <label class="form-check-label" for="exampleRadios2">
                Stage
            </label>

        </div>
        <div class="col-md-6" id="ifCheckedStage" style="display: none">
            <label for="NameCorp" class="form-label" >Nom Entreprise</label>
            <input type="text" class="form-control" id="NameCorp"placeholder="Entreprise" name="companyName">
        </div>

        <div class="col-md-6" id="ifCheckedStage2" style="display: none">
            <label for="tuteurentreprisePrenom" class="form-label">Prénom Tuteur entreprise</label>
            <input type="text" class="form-control" id="tuteurentreprisePrenom" placeholder="Prénom tuteur" name="tutorFirstName">
        </div>

        <div class="col-md-6" id="ifCheckedStage1" style="display: none">
            <label for="tuteurentrepriseNom" class="form-label">Nom Tuteur entreprise</label>
            <input type="text" class="form-control" id="tuteurentrepriseNom" placeholder="Nom tuteur" name="tutorLastName">
        </div>


        <div class="col-md-6">
            <label for="tuteur">Tuteur Polytech</label><br>
            <select class="form-control" id="tuteur"name="teacher" required>
                <% for(var i = 0; i < teachers.length; i++) {%>
                <option value="<%= teachers[i]._id %>"><%= teachers[i].teacherFirstName %> <%= teachers[i].teacherLastName %></option>
                <%}%>
            </select>
        </div>

        <div class="col-md-6">
            <label for="sizegroupe">Nombre de membres dans le groupe</label><br>
            <select class="form-control" id="sizegroupe"name="sizegroup">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
            </select>
        </div>

        <div id="mailInput" class="col-md-6">
            <label for="email1" class="form-label">E-mail universitaire</label><br>
            <input type="email" class="form-control" id="email1" placeholder="name@example.com" aria-label="Large" aria-describedby="inputGroup-sizing-sm"  name="email" required>
        </div>

        <script>

            const sizegroupe = document.querySelector('#sizegroupe');
            const mailInput = document.querySelector('#mailInput');


            sizegroupe.addEventListener('change', (event) => {
                for (let i = 0, copy; i < event.target.value - 1; i++) {
                    if (document.getElementById('juryCreator' + i)) {
                        document.getElementById('juryCreator' + i).style.display = 'block'
                    } else {
                        copy = mailInput.cloneNode(true);
                        copy.attributes.id.nodeValue = copy.attributes.id.nodeValue + i
                        mailInput.parentNode.insertBefore(copy, mailInput.nextSibling);
                    }

                }

                for (let j =  event.target.value - 1; j < 10; j++) {
                    let mailInput = document.getElementById('mailInput'+j)
                    if (mailInput != null) mailInput.parentNode.removeChild(mailInput)
                }
            });
        </script>


        <button type="submit" class="btn btn-primary espace">ENREGISTRER LE GROUPE</button>
        <!--<button type="submit" class="btn btn-primary espace">Réserver ultérieurement</button>-->
    </form>


</main>
</body>
</html>